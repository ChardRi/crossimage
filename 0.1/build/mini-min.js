/*!build time : 2014-04-12 4:07:44 PM*/
KISSY.add("gallery/crossimage/0.1/cdnpair",function(){var a=["16x16","20x20","24x24","30x30","32x32","36x36","40x40","48x48","50x50","60x30","60x60","60x90","64x64","70x70","70x1000","72x72","75x100","80x40","80x60","81x65","80x80","80x1000","88x88","90x45","90x60","90x90","90x135","96x54","100x50","100x100","100x150","100x1000","110x90","110x110","110x10000","115x100","120x60","120x90","120x120","120x160","125x125","128x128","130x130","140x70","140x100","145x145","150x150","150x200","150x10000","160x80","160x90","160x160","160x180","160x240","165x5000","170x170","170x10000","170x120","180x90","180x180","180x230","190x43","190x190","200x100","200x200","210x140","210x210","210x1000","220x220","220x330","220x5000","220x10000","240x5000","230x87","230x230","234x234","240x240","240x10000","250x225","250x250","264x100","270x180","270x270","280x410","290x290","290x10000","300x1000","310x310","300x300","315x315","320x320","320x480","336x336","350x350","350x1000","360x360","400x152","400x400","420x280","430x430","440x440","450x10000","460x460","468x468","480x420","480x480","485x175","490x330","490x490","500x450","500x1000","540x540","560x370","560x560","560x840","570x570","570x10000","580x580","580x10000","600x600","620x10000","640x480","640x640","660x440","670x670","720x720","728x728","760x760","790x420","790x10000","960x960","970x970","10000x220","10000x340","10000x170","10000x500"],b=[];return function(){for(var c=0;c<a.length;c++){var d=a[c],e=d.split("x");b.push({w:e[0],h:e[1]})}}(),b}),KISSY.add("gallery/crossimage/0.1/webp",function(){return function(){function a(a){if(!window.chrome&&!window.opera)return void a(!1);var c=window.localStorage&&window.localStorage.getItem("webpsupport");return null!==c?void a("true"===c):void b(function(b){window.localStorage&&window.localStorage.setItem("webpsupport",b),a(b)})}function b(a){var b=new Image;b.src="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",b.onload=b.onerror=function(){a(b.width>0&&b.height>0)}}this.WebP||(this.WebP={},WebP.isSupport=function(b){return b?void 0===WebP._isSupport?void a(function(a){b(WebP._isSupport=a)}):void b(WebP._isSupport):void 0})}(),window.WebP},{attach:!1,requires:[]}),KISSY.add("gallery/crossimage/0.1/index",function(a,b,c){function d(a,c){function d(a,b,c,d){return(a-c)*(a-c)+(b-d)*(b-d)}for(var e,f=1e6,g=0;g<b.length;g++){var h,i=b[g];h=d(i.w,i.h,a,c),f>h&&(f=h,e=i)}return e}function e(b){function e(a){if(a.elem&&a.elem.width&&a.elem.height&&a.src&&/http/.test(a.src))try{var b,c,e,g,h=a.elem,i=h.width*f.config.userPPI,j=h.height*f.config.userPPI,k=a.src,l=k.match(/[^_]+/g);if(!l)return;b=l[0];var m=d(i,j);e=m.w,g=m.h,c=b+"_@Wx@Hq@Q.jpg@WEBP".replace(/@W/i,e).replace(/@H/i,g).replace(/@Q/,f.config.quality).replace(/@WEBP/,f.config.WEBPSUFFIX),a.src=c}catch(n){}}var f=this,g={quality:90,WEBPSUFFIX:"",userPPI:1};return f.config=a.merge(g,b),c.isSupport(function(a){f.config.WEBPSUFFIX=a?"_.webp":""}),e}return e},{requires:["./cdnpair","./webp"]}),KISSY.add("gallery/crossimage/0.1/mini",function(a,b){return b},{requires:["./index"]});